(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{349:function(e,t,r){"use strict";r.d(t,"a",function(){return O});var n=r(0),o=r(12);function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,c=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){o=!0,c=u}finally{try{n||null==i.return||i.return()}finally{if(o)throw c}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(){var e=Object(n.useRef)(void 0),t=Object(n.useCallback)(function(t,r){e.current=setTimeout(t,r)},[]),r=Object(n.useCallback)(function(){return clearTimeout(e.current)},[]);return Object(n.useEffect)(function(){return function(){e&&clearTimeout(e.current)}},[]),[t,r]}var d={CACHE_FIRST:"cache-first",CACHE_AND_LOAD:"cache-and-load",LOAD_ONLY:"load-only"},p={IDLE:"idle",PENDING:"pending",TIMEOUT:"timeout",RESOLVED:"resolved",REJECTED:"rejected"};function v(e){return function(t,r){var n=t.children,o=t.or;if(e)return"function"===typeof n?n(r):n;if(o){var c=o;return Array.isArray(o)||(c=[o]),0===c.length?null:(c=l(c)).shift()({children:n,or:c})}return null}}var b=Object(n.createContext)({cache:{records:{},get:function(){},set:function(){},reset:function(){}}});i({},b,{Provider:function(e){var t=e.children,r=e.cacheProvider,o=s(Object(n.useState)({}),2),c=o[0],u=o[1],l=Object(n.useCallback)(function(e){u({});var t=e&&e.cacheProvider?e.cacheProvider:r;t&&t.reset()},[r]),f=Object(n.useCallback)(function(e,t,n){u(function(r){return i({},r,a({},e,t))});var o=n&&n.cacheProvider?n.cacheProvider:r;o&&o.set(e,t)},[r]),d=Object(n.useCallback)(function(e,t){var n=c[e];if(n)return n;var o=t&&t.cacheProvider?t.cacheProvider:r;if(o){var a=o.get(e);if(a)return a}},[r,c]),p=Object(n.useMemo)(function(){return{cache:{records:c,get:d,set:f,reset:l}}},[d,c,l,f]);return Object(n.createElement)(b.Provider,{value:p},t)}});function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=t.cacheProvider,a=t.delay,u=void 0===a?0:a,O=t.enableBackgroundStates,E=void 0!==O&&O,y=t.defer,h=void 0!==y&&y,m=t.injectMeta,j=void 0===m||m,g=t.loadPolicy,R=void 0===g?d.CACHE_AND_LOAD:g,C=t.suspense,P=void 0!==C&&C,D=t.throwError,w=void 0!==D&&D,S=t.timeout,I=void 0===S?0:S,T=t.update,A=Array.isArray(t.id)?t.id.join("."):t.id,L=t.id?"".concat(t.context,".").concat(A):t.context,k=Object(n.useContext)(b),x=Object(n.useRef)(0),N=Object(n.useRef)(),M=function(){var e=Object(n.useRef)(!0);return Object(n.useEffect)(function(){return function(){e.current=!1}},[]),e}(),J=s(f(),2),_=J[0],z=J[1],B=s(f(),2),V=B[0],G=B[1];var H=Object(n.useMemo)(function(){if(L)return k.cache.get(L,{cacheProvider:o})},[o,L,k.cache]),U={state:p.IDLE};H&&!h&&R!==d.LOAD_ONLY&&(U=H);var Y=s(Object(n.useReducer)(function(e,t){switch(t.type){case p.IDLE:return{state:p.IDLE};case p.PENDING:return i({},e,{state:p.PENDING});case p.TIMEOUT:return i({},e,{state:p.TIMEOUT});case p.RESOLVED:return{isCached:t.isCached,error:void 0,response:t.response,state:p.RESOLVED};case p.REJECTED:return{isCached:t.isCached,error:t.error,response:void 0,state:p.REJECTED};default:return e}},U),2),F=Y[0],q=Y[1];function K(e,t,r){if(M.current&&r===x.current&&(z(),G(),q({type:t,isCached:Boolean(L),error:t===p.REJECTED?e.error:void 0,response:t===p.RESOLVED?e.response:void 0}),L)){var n={error:e.error,response:e.response,state:t};k.cache.set(L,n,{cacheProvider:o})}}function Q(e,t,r){var n,a=e.data,u=e.optsOrCallback,s=e.callback,l=a,f={};("object"===c(u)&&(f=u),"function"===typeof a)&&(F.response?n=F.response:f.context&&(n=k.cache.get(f.context,{cacheProvider:o})||{}),l=a(n));var d={error:t===p.REJECTED?l:void 0,response:t===p.RESOLVED?l:void 0};f.context&&L!==f.context?k.cache&&k.cache.set(f.context,i({},d,{state:t}),{cacheProvider:o}):K(d,t,r);var v="function"===typeof u?u:s;v&&v(l)}function W(r){return function(){for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];var a=o.filter(function(e){return"Class"!==e.constructor.name});!t.args||a&&0!==a.length||(a=t.args),x.current=x.current+1;var s=x.current;if(!L||R===d.LOAD_ONLY||!H||(q(i({type:H.state,isCached:!0},H)),R!==d.CACHE_FIRST)){u>0?_(function(){return q({type:p.PENDING})},u):q({type:p.PENDING}),I>0&&V(function(){return q({type:p.TIMEOUT})},I);var f=(r&&r.fn?r.fn:e).apply(void 0,l(a).concat([j?{cachedRecord:H,setResponse:function(e,t,r){return Q({data:e,optsOrCallback:t,callback:r},p.RESOLVED,s)},setError:function(e,t,r){return Q({data:e,optsOrCallback:t,callback:r},p.REJECTED,s)}}:void 0]));return N.current=f,f.then(function(e){return K({response:e},p.RESOLVED,s),e}).catch(function(e){if(K({error:e},p.REJECTED,s),w&&!P)throw e})}}}var X=Object(n.useMemo)(function(){if(T)return Array.isArray(T)?T.map(function(e){return W({fn:e})}):W({fn:T})},[T]),Z=Object(n.useCallback)(function(){q({type:p.IDLE})},[]);Object(n.useEffect)(function(){!H&&L&&Z()},[H,L]),Object(n.useEffect)(function(){H&&R!==d.LOAD_ONLY&&q(i({type:H.state,isCached:!0},H))},[H,R,q]),Object(n.useEffect)(function(){h||W()()},[h,L,r?void 0:e].concat(l(r)));var $={isIdle:F.state===p.IDLE&&Boolean(!F.response||E),isPending:F.state===p.PENDING&&Boolean(!F.response||E),isTimeout:F.state===p.TIMEOUT&&Boolean(!F.response||E),isResolved:F.state===p.RESOLVED||Boolean(F.response),isRejected:F.state===p.REJECTED};if(P&&$.isPending&&N.current)throw N.current;return Object(n.useMemo)(function(){return i({load:W(),update:X,reset:Z,response:F.response,error:F.error,state:F.state},$,{Idle:v($.isIdle),Pending:v($.isPending),Timeout:v($.isTimeout),Resolved:v($.isResolved),Rejected:v($.isRejected),isCached:Boolean(F.isCached)})},[F.response,F.error,F.state,F.isCached,$,X])}var E=Object(n.createContext)({isIdle:!1,isPending:!1,isTimeout:!1,isResolved:!1,isRejected:!1}),y=function(e){var t=e.children,r=e.load,o=e.inputs,c=O(r,u(e,["children","load","inputs"]),o||[]);return Object(n.createElement)(E.Provider,{value:c},"function"===typeof t?t(c):t)};y.propTypes={children:o.func.isRequired,load:o.func.isRequired,inputs:o.array},y.defaultProps={inputs:[]},y.Idle=function(e){return Object(n.createElement)(E.Consumer,null,function(t){return v(t.isIdle)(e,t)})},y.Pending=function(e){return Object(n.createElement)(E.Consumer,null,function(t){return v(t.isPending)(e,t)})},y.Timeout=function(e){return Object(n.createElement)(E.Consumer,null,function(t){return v(t.isTimeout)(e,t)})},y.Resolved=function(e){return Object(n.createElement)(E.Consumer,null,function(t){return v(t.isResolved)(e,t)})},y.Rejected=function(e){return Object(n.createElement)(E.Consumer,null,function(t){return v(t.isRejected)(e,t)})};new Map},375:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),o=r.n(n);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=o.a.createElement("g",null,o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.a.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm4.82-4.924A7 7 0 0 0 9.032 5.658l.975 1.755A5 5 0 0 1 17 12h-3l2.82 5.076zm-1.852 1.266l-.975-1.755A5 5 0 0 1 7 12h3L7.18 6.924a7 7 0 0 0 7.788 11.418z"}));const u=e=>{let t=e.svgRef,r=a(e,["svgRef"]);return o.a.createElement("svg",c({viewBox:"0 0 24 24",ref:t},r),i)},s=o.a.forwardRef((e,t)=>o.a.createElement(u,c({svgRef:t},e)));r.p},376:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),o=r.n(n);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=o.a.createElement("g",null,o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.a.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z"}));const u=e=>{let t=e.svgRef,r=a(e,["svgRef"]);return o.a.createElement("svg",c({viewBox:"0 0 24 24",ref:t},r),i)},s=o.a.forwardRef((e,t)=>o.a.createElement(u,c({svgRef:t},e)));r.p},578:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),c=r(349),a=r(30),i=r(25),u=r(73),s=r(375),l=r(376),f=r(364),d=r(11),p={pending:"Updating macro split...",resolved:"Macro split successfully updated.",rejected:"Something was wrong, try again."},v=Object(n.memo)(function(e){var t,r,v=e.meal,b=e.value,O=e.onFlush,E=a.a.useContainer(),y=E.updateMacroSplit,h=E.setSync,m=Object(c.a)(function(){return d.k({macroSplit:b,plan:v.planId,parent:v.id,type:v.type})},{},[v.id,b]),j=m.response,g=m.error,R=m.isRejected,C=m.isPending,P=m.isResolved;if(Object(n.useEffect)(function(){h({mealId:v.id})},[]),Object(n.useEffect)(function(){h(null),j&&(y(v,j),Object(i.e)(3e3).then(O))},[P]),Object(n.useEffect)(function(){h(null),Object(i.e)(5e3).then(O)},[R]),C)t="pending";else if(P)t="resolved";else if(R){try{r=g.response.data.error}catch(D){}t="rejected"}return r||(r=p[t]),o.a.createElement(u.b,{type:t,loading:C},o.a.createElement(u.c,null,C&&o.a.createElement(s.a,null),P&&o.a.createElement(f.a,null),R&&o.a.createElement(l.a,null)),o.a.createElement(u.d,null,r))});t.default=v}}]);
//# sourceMappingURL=6.6813a036.chunk.js.map