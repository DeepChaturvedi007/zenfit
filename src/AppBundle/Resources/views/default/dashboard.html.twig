{% extends '@App/base.html.twig' %}

{% block content -%}
    {% set title = 'Dashboard' %}
    <div id="wrapper">
        {% include '@App/components/sideNav.html.twig' %}
        {% include '@App/components/metabar.html.twig' with { 'title': title } %}
        <div id="page-wrapper" class="gray-bg">
            <div
                    id="dashboard-page-controller"
                    data-props="{{ {
                        'metrics': metrics,
                        'payments': payments,
                        'userId': app.user.id
                    }|json_encode }}"
            ></div>
            {% include '@App/components/footer.html.twig' %}
        </div>
    </div>
{% endblock %}

{% block extra_css %}
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600&display=swap" rel="stylesheet">
    <style>
        #dashboard-page-controller {
            margin-left: -15px;
            margin-right: -15px;
        }
    </style>
{% endblock %}
{% block script %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-crosshair@1.1.4"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@5.9.2"></script>
    <script src="{{ asset('bundles/app/js/body-progress.v2.js') }}"></script>
    <script src="{{ asset("dashboard.js"|webpack_asset) }}"></script>
{% endblock %}
