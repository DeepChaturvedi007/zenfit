<?php declare(strict_types=1);

namespace AppBundle\Fixture;

use AppBundle\Entity\MealProduct;
use AppBundle\Repository\MealProductRepository;

class MealProductFixturesLoader
{
    public function __construct(private MealProductRepository $mealProductRepository)
    {
    }

    public function __invoke(): void
    {
        foreach ($this->getData() as $item) {
            $existentProduct = $this->mealProductRepository->findOneBy(['excelId' => $item['excel_id']]);
            if ($existentProduct !== null) {
                continue;
            }

            $mealProduct = new MealProduct($item['name']);
            $mealProduct->setNameDanish($item['name_danish']);
            $mealProduct->setBrand($item['brand']);
            $mealProduct->setKcal((int) $item['kcal']);
            $mealProduct->setKj((int) $item['kj']);
            $mealProduct->setProtein($item['protein']);
            $mealProduct->setFat($item['fat']);
            $mealProduct->setSaturatedFat($item['saturated_fat']);
            $mealProduct->setMonoUnsaturatedFat($item['mono_unsaturated_fat']);
            $mealProduct->setPolyUnsaturatedFat($item['poly_unsaturated_fat']);
            $mealProduct->setCarbohydrates($item['carbohydrates']);
            $mealProduct->setAddedSugars($item['added_sugars']);
            $mealProduct->setFiber($item['fiber']);
            $mealProduct->setAlcohol($item['alcohol']);
            $mealProduct->setCholesterol($item['cholesterol']);
            $mealProduct->setExcelId((int) $item['excel_id']);
            $mealProduct->setAllowSplit($item['allow_split']);

            $this->mealProductRepository->persist($mealProduct);
        }

        $this->mealProductRepository->flush();
    }

    private function getData(): array
    {
        return
            [
                [
                    'name' => 'Asparagus. green',
                    'name_danish' => 'Asparges. grønne',
                    'brand' => NULL,
                    'kcal' => '26',
                    'kj' => '109',
                    'protein' => '1.80',
                    'fat' => '0.30',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.20',
                    'carbohydrates' => '4.90',
                    'added_sugars' => '0.00',
                    'fiber' => '1.80',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '25',
                    'allow_split' => false,
                ],
                [
                    'name' => 'Banana',
                    'name_danish' => 'Banan',
                    'brand' => NULL,
                    'kcal' => '82',
                    'kj' => '342',
                    'protein' => '1.30',
                    'fat' => '0.30',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.10',
                    'carbohydrates' => '19.00',
                    'added_sugars' => '0.00',
                    'fiber' => '1.60',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '39',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Blueberry',
                    'name_danish' => 'Blåbær',
                    'brand' => NULL,
                    'kcal' => '48',
                    'kj' => '201',
                    'protein' => '0.70',
                    'fat' => '0.50',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '11.50',
                    'added_sugars' => '0.00',
                    'fiber' => '2.80',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '55',
                    'allow_split' => false,
                ],
                [
                    'name' => 'Mushroom',
                    'name_danish' => 'Champignon',
                    'brand' => NULL,
                    'kcal' => '25',
                    'kj' => '103',
                    'protein' => '2.90',
                    'fat' => '0.30',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.20',
                    'carbohydrates' => '3.40',
                    'added_sugars' => '0.00',
                    'fiber' => '1.70',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '113',
                    'allow_split' => false,
                ],
                [
                    'name' => 'Spring onion',
                    'name_danish' => 'Forårsløg',
                    'brand' => NULL,
                    'kcal' => '33',
                    'kj' => '139',
                    'protein' => '1.80',
                    'fat' => '0.20',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.10',
                    'carbohydrates' => '7.30',
                    'added_sugars' => '0.00',
                    'fiber' => '2.60',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '196',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Bread. white',
                    'name_danish' => 'Franskbrød',
                    'brand' => NULL,
                    'kcal' => '270',
                    'kj' => '1131',
                    'protein' => '8.00',
                    'fat' => '4.30',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '1.00',
                    'poly_unsaturated_fat' => '1.00',
                    'carbohydrates' => '51.30',
                    'added_sugars' => '0.00',
                    'fiber' => '4.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '197',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Oats',
                    'name_danish' => 'Havregryn',
                    'brand' => NULL,
                    'kcal' => '366',
                    'kj' => '1533',
                    'protein' => '13.20',
                    'fat' => '6.50',
                    'saturated_fat' => '1.00',
                    'mono_unsaturated_fat' => '2.20',
                    'poly_unsaturated_fat' => '2.70',
                    'carbohydrates' => '68.20',
                    'added_sugars' => '0.00',
                    'fiber' => '10.10',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '258',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Peanut butter. low in sugar',
                    'name_danish' => 'Peanutbutter. lavt sukkerindhold',
                    'brand' => NULL,
                    'kcal' => '564',
                    'kj' => '0',
                    'protein' => '29.10',
                    'fat' => '46.10',
                    'saturated_fat' => '10.00',
                    'mono_unsaturated_fat' => '21.10',
                    'poly_unsaturated_fat' => '14.30',
                    'carbohydrates' => '11.80',
                    'added_sugars' => '0.00',
                    'fiber' => '7.90',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '345',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Potato. raw',
                    'name_danish' => 'Kartoffel. rå',
                    'brand' => NULL,
                    'kcal' => '82',
                    'kj' => '342',
                    'protein' => '1.90',
                    'fat' => '0.30',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.20',
                    'carbohydrates' => '18.30',
                    'added_sugars' => '0.00',
                    'fiber' => '1.40',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '380',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Chicken. cold cut',
                    'name_danish' => 'Kylling. pålæg',
                    'brand' => NULL,
                    'kcal' => '113',
                    'kj' => '475',
                    'protein' => '20.60',
                    'fat' => '3.20',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '1.10',
                    'poly_unsaturated_fat' => '0.80',
                    'carbohydrates' => '0.40',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '433',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Onion',
                    'name_danish' => 'Løg',
                    'brand' => NULL,
                    'kcal' => '46',
                    'kj' => '191',
                    'protein' => '1.60',
                    'fat' => '0.30',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.10',
                    'carbohydrates' => '10.00',
                    'added_sugars' => '0.00',
                    'fiber' => '1.90',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '509',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Bell pepper. sweet. green',
                    'name_danish' => 'Peberfrugt. grøn',
                    'brand' => NULL,
                    'kcal' => '21',
                    'kj' => '88',
                    'protein' => '0.90',
                    'fat' => '0.30',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.20',
                    'carbohydrates' => '4.60',
                    'added_sugars' => '0.00',
                    'fiber' => '1.80',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '641',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Rye bread. dark. wholemeal',
                    'name_danish' => 'Rugbrød. fuldkorn',
                    'brand' => NULL,
                    'kcal' => '204',
                    'kj' => '855',
                    'protein' => '5.00',
                    'fat' => '1.20',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.30',
                    'poly_unsaturated_fat' => '0.60',
                    'carbohydrates' => '47.00',
                    'added_sugars' => '0.00',
                    'fiber' => '8.10',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '707',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Pork. ham. boiled. sliced',
                    'name_danish' => 'Skinke. kogt. skiveskåret',
                    'brand' => NULL,
                    'kcal' => '109',
                    'kj' => '456',
                    'protein' => '17.90',
                    'fat' => '4.00',
                    'saturated_fat' => '1.00',
                    'mono_unsaturated_fat' => '1.60',
                    'poly_unsaturated_fat' => '0.40',
                    'carbohydrates' => '0.20',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '792',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Milk. skimmed. 0.5 % fat',
                    'name_danish' => 'Skummetmælk 0.5 % fedt (Minimælk)',
                    'brand' => NULL,
                    'kcal' => '38',
                    'kj' => '158',
                    'protein' => '3.50',
                    'fat' => '0.50',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.10',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '4.70',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '804',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Spinach',
                    'name_danish' => 'Spinat',
                    'brand' => NULL,
                    'kcal' => '26',
                    'kj' => '107',
                    'protein' => '2.60',
                    'fat' => '0.60',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.40',
                    'carbohydrates' => '3.40',
                    'added_sugars' => '0.00',
                    'fiber' => '1.90',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '849',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Tomato',
                    'name_danish' => 'Tomat',
                    'brand' => NULL,
                    'kcal' => '20',
                    'kj' => '84',
                    'protein' => '0.70',
                    'fat' => '0.30',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.10',
                    'carbohydrates' => '4.60',
                    'added_sugars' => '0.00',
                    'fiber' => '1.90',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '935',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Egg',
                    'name_danish' => 'Æg. hele',
                    'brand' => NULL,
                    'kcal' => '142',
                    'kj' => '594',
                    'protein' => '12.60',
                    'fat' => '9.90',
                    'saturated_fat' => '2.00',
                    'mono_unsaturated_fat' => '3.80',
                    'poly_unsaturated_fat' => '1.80',
                    'carbohydrates' => '0.80',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '1034',
                    'allow_split' => false,
                ],
                [
                    'name' => 'Egg white',
                    'name_danish' => 'Æggehvide',
                    'brand' => NULL,
                    'kcal' => '49',
                    'kj' => '205',
                    'protein' => '10.90',
                    'fat' => '0.20',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '0.70',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '1037',
                    'allow_split' => false,
                ],
                [
                    'name' => 'Icelandic yoghurt. skyr. reduced sugar',
                    'name_danish' => 'Skyr',
                    'brand' => NULL,
                    'kcal' => '62',
                    'kj' => '0',
                    'protein' => '11.10',
                    'fat' => '0.20',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '3.70',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '1053',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Skyr. 0.2%. Vanilla',
                    'name_danish' => 'Skyr. 0.2%. vanilje',
                    'brand' => 'Cheasy',
                    'kcal' => '61',
                    'kj' => '0',
                    'protein' => '9.70',
                    'fat' => '0.20',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '4.20',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '1054',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Protein powder',
                    'name_danish' => 'Proteinpulver',
                    'brand' => NULL,
                    'kcal' => '393',
                    'kj' => '0',
                    'protein' => '71.80',
                    'fat' => '6.90',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '7.30',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '1091',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Egg whites. pasteurized',
                    'name_danish' => 'Æggehvider. pasteuriserede',
                    'brand' => NULL,
                    'kcal' => '50',
                    'kj' => '0',
                    'protein' => '9.00',
                    'fat' => '0.00',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '2.00',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '1108',
                    'allow_split' => false,
                ],
                [
                    'name' => 'Egg whites',
                    'name_danish' => 'Æggehvide',
                    'brand' => NULL,
                    'kcal' => '50',
                    'kj' => '0',
                    'protein' => '9.00',
                    'fat' => '0.00',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '2.00',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '1110',
                    'allow_split' => false,
                ],
                [
                    'name' => 'Rice. white. long-grain. dry',
                    'name_danish' => 'Jasmin ris. rå',
                    'brand' => NULL,
                    'kcal' => '355',
                    'kj' => '0',
                    'protein' => '7.10',
                    'fat' => '0.90',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '78.00',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '1123',
                    'allow_split' => true,
                ],
                [
                    'name' => 'BLUEBERRIES',
                    'name_danish' => NULL,
                    'brand' => NULL,
                    'kcal' => '57',
                    'kj' => '0',
                    'protein' => '0.74',
                    'fat' => '0.33',
                    'saturated_fat' => '28.00',
                    'mono_unsaturated_fat' => '47.00',
                    'poly_unsaturated_fat' => '146.00',
                    'carbohydrates' => '14.49',
                    'added_sugars' => '9.96',
                    'fiber' => '2.40',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '3349',
                    'allow_split' => false,
                ],
                [
                    'name' => 'CHIA SEEDS. DRIED',
                    'name_danish' => 'Chia frø',
                    'brand' => NULL,
                    'kcal' => '486',
                    'kj' => '0',
                    'protein' => '16.54',
                    'fat' => '30.74',
                    'saturated_fat' => '3.00',
                    'mono_unsaturated_fat' => '2.31',
                    'poly_unsaturated_fat' => '23.67',
                    'carbohydrates' => '42.12',
                    'added_sugars' => '0.00',
                    'fiber' => '34.40',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '4777',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Chicken filet. natural',
                    'name_danish' => 'Kylling. fersk filet',
                    'brand' => NULL,
                    'kcal' => '105',
                    'kj' => '0',
                    'protein' => '21.00',
                    'fat' => '2.00',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '1.00',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '9772',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Mixed greens',
                    'name_danish' => 'Blandet grønt',
                    'brand' => NULL,
                    'kcal' => '41',
                    'kj' => '0',
                    'protein' => '1.80',
                    'fat' => '0.00',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '6.40',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '9781',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Cottage cheese. 1.5%',
                    'name_danish' => 'Hytteost 1.5%',
                    'brand' => NULL,
                    'kcal' => '70',
                    'kj' => '0',
                    'protein' => '12.00',
                    'fat' => '1.50',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '2.00',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '9784',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Muesli. low in fat & sugar',
                    'name_danish' => 'Mysli. lavt i fedt og tilsat sukker',
                    'brand' => NULL,
                    'kcal' => '358',
                    'kj' => '0',
                    'protein' => '11.00',
                    'fat' => '6.00',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '59.00',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '9798',
                    'allow_split' => true,
                ],
                [
                    'name' => 'Coconut milk. light. canned',
                    'name_danish' => 'Kokosmælk. light. dåse',
                    'brand' => NULL,
                    'kcal' => '73',
                    'kj' => '0',
                    'protein' => '0.70',
                    'fat' => '7.00',
                    'saturated_fat' => '0.00',
                    'mono_unsaturated_fat' => '0.00',
                    'poly_unsaturated_fat' => '0.00',
                    'carbohydrates' => '1.60',
                    'added_sugars' => '0.00',
                    'fiber' => '0.00',
                    'alcohol' => '0.00',
                    'cholesterol' => '0.00',
                    'excel_id' => '9825',
                    'allow_split' => true,
                ],
            ];
    }
}
